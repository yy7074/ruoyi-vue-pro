# è‹¥ä¾Vue Pro - å°ç¨‹åºå•†åŸéƒ¨ç½²æŒ‡å—

## ğŸ“± é¡¹ç›®æ¦‚è¿°

**èŠ‹é“å•†åŸ** æ˜¯åŸºäºuni-appå¼€å‘çš„å¤šç«¯å•†åŸç³»ç»Ÿï¼Œæ”¯æŒï¼š
- å¾®ä¿¡å°ç¨‹åº
- H5ç½‘é¡µ
- Android APP
- iOS APP

## ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

### åŸºç¡€ç¯å¢ƒ
- **Node.js**: 16+ 
- **HBuilderX**: 3.8+ (æ¨èä½¿ç”¨å®˜æ–¹IDE)
- **å¾®ä¿¡å¼€å‘è€…å·¥å…·**: æœ€æ–°ç‰ˆæœ¬ (å°ç¨‹åºå¼€å‘)

### åç«¯è¦æ±‚
- åç«¯æœåŠ¡å·²å¯åŠ¨ (http://127.0.0.1:48080)
- å•†åŸæ¨¡å—å·²å¼€å¯

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ–¹å¼ä¸€ï¼šä½¿ç”¨HBuilderX (æ¨è)

#### 1. ä¸‹è½½HBuilderX
```bash
# è®¿é—®å®˜ç½‘ä¸‹è½½
https://www.dcloud.io/hbuilderx.html
```

#### 2. å¯¼å…¥é¡¹ç›®
1. æ‰“å¼€HBuilderX
2. æ–‡ä»¶ â†’ å¯¼å…¥ â†’ ä»æœ¬åœ°ç›®å½•å¯¼å…¥
3. é€‰æ‹© `yudao-mall-uniapp` ç›®å½•

#### 3. é…ç½®ç¯å¢ƒ
æ£€æŸ¥ `.env` æ–‡ä»¶é…ç½®ï¼š
```env
# å¼€å‘ç¯å¢ƒåç«¯åœ°å€
SHOPRO_DEV_BASE_URL=http://127.0.0.1:48080

# H5è®¿é—®åŸŸå
SHOPRO_H5_URL=http://127.0.0.1:3000

# ç§Ÿæˆ·ID
SHOPRO_TENANT_ID=1
```

#### 4. è¿è¡Œé¡¹ç›®

**è¿è¡Œåˆ°H5:**
1. ç‚¹å‡»å·¥å…·æ  "è¿è¡Œ" â†’ "è¿è¡Œåˆ°æµè§ˆå™¨" â†’ "Chrome"
2. æˆ–ä½¿ç”¨å¿«æ·é”® `Ctrl+R` (Windows) / `Cmd+R` (Mac)

**è¿è¡Œåˆ°å¾®ä¿¡å°ç¨‹åº:**
1. ç‚¹å‡»å·¥å…·æ  "è¿è¡Œ" â†’ "è¿è¡Œåˆ°å°ç¨‹åºæ¨¡æ‹Ÿå™¨" â†’ "å¾®ä¿¡å¼€å‘è€…å·¥å…·"
2. é¦–æ¬¡è¿è¡Œéœ€è¦é…ç½®å¾®ä¿¡å¼€å‘è€…å·¥å…·è·¯å¾„

**è¿è¡Œåˆ°æ‰‹æœº:**
1. ç‚¹å‡»å·¥å…·æ  "è¿è¡Œ" â†’ "è¿è¡Œåˆ°æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨"
2. é€‰æ‹©å·²è¿æ¥çš„è®¾å¤‡

### æ–¹å¼äºŒï¼šå‘½ä»¤è¡Œæ–¹å¼

#### 1. å®‰è£…ä¾èµ–
```bash
cd yudao-mall-uniapp
npm install
```

#### 2. å®‰è£…uni-app CLI
```bash
npm install -g @dcloudio/uvm
uvm install 3.0.0-alpha-3081220230817001
```

#### 3. è¿è¡Œé¡¹ç›®
```bash
# è¿è¡Œåˆ°H5
npx uni build --platform h5

# è¿è¡Œåˆ°å¾®ä¿¡å°ç¨‹åº
npx uni build --platform mp-weixin
```

## ğŸ”§ é…ç½®è¯´æ˜

### 1. åç«¯æ¥å£é…ç½®

**å¼€å‘ç¯å¢ƒé…ç½®** (`.env` æ–‡ä»¶)ï¼š
```env
# åç«¯æ¥å£ - å¼€å‘ç¯å¢ƒ
SHOPRO_DEV_BASE_URL=http://127.0.0.1:48080

# åç«¯æ¥å£å‰ç¼€
SHOPRO_API_PATH=/app-api

# WebSocketæ¥å£å‰ç¼€  
SHOPRO_WEBSOCKET_PATH=/infra/ws
```

**ç”Ÿäº§ç¯å¢ƒé…ç½®**ï¼š
```env
# åç«¯æ¥å£ - ç”Ÿäº§ç¯å¢ƒ
SHOPRO_BASE_URL=https://your-domain.com

# æ–‡ä»¶ä¸Šä¼ ç±»å‹
SHOPRO_UPLOAD_TYPE=server

# é™æ€èµ„æºåœ°å€
SHOPRO_STATIC_URL=https://your-cdn.com
```

### 2. å¾®ä¿¡å°ç¨‹åºé…ç½®

**manifest.json é…ç½®**ï¼š
```json
{
  "mp-weixin": {
    "appid": "ä½ çš„å°ç¨‹åºAppID",
    "setting": {
      "urlCheck": false,
      "es6": true,
      "minified": true
    },
    "usingComponents": true
  }
}
```

**å°ç¨‹åºåŸŸåé…ç½®**ï¼š
åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é…ç½®æœåŠ¡å™¨åŸŸåï¼š
- requeståˆæ³•åŸŸåï¼š`https://your-domain.com`
- uploadFileåˆæ³•åŸŸåï¼š`https://your-domain.com`
- downloadFileåˆæ³•åŸŸåï¼š`https://your-domain.com`

### 3. H5é…ç½®

**H5è·¯ç”±æ¨¡å¼**ï¼š
```json
{
  "h5": {
    "router": {
      "mode": "hash"
    },
    "devServer": {
      "port": 3000,
      "disableHostCheck": true
    }
  }
}
```

## ğŸ“± åŠŸèƒ½æ¨¡å—

### æ ¸å¿ƒåŠŸèƒ½
- **å•†å“å±•ç¤º**: å•†å“åˆ—è¡¨ã€è¯¦æƒ…ã€æœç´¢
- **è´­ç‰©è½¦**: æ·»åŠ å•†å“ã€æ•°é‡ç®¡ç†
- **è®¢å•ç®¡ç†**: ä¸‹å•ã€æ”¯ä»˜ã€è®¢å•çŠ¶æ€
- **ç”¨æˆ·ä¸­å¿ƒ**: ç™»å½•æ³¨å†Œã€ä¸ªäººä¿¡æ¯ã€æ”¶è´§åœ°å€
- **æ”¯ä»˜ç³»ç»Ÿ**: å¾®ä¿¡æ”¯ä»˜ã€æ”¯ä»˜å®æ”¯ä»˜
- **ä¼˜æƒ åˆ¸**: é¢†å–ã€ä½¿ç”¨ä¼˜æƒ åˆ¸
- **ç§¯åˆ†ç³»ç»Ÿ**: ç§¯åˆ†è·å–ã€å…‘æ¢
- **åˆ†é”€ç³»ç»Ÿ**: æ¨å¹¿åˆ†ä½£

### è¥é”€åŠŸèƒ½
- **ç§’æ€æ´»åŠ¨**: é™æ—¶æŠ¢è´­
- **æ‹¼å›¢æ´»åŠ¨**: å¤šäººæ‹¼å›¢
- **ç ä»·æ´»åŠ¨**: å¥½å‹åŠ©åŠ›ç ä»·
- **ç­¾åˆ°æœ‰ç¤¼**: æ¯æ—¥ç­¾åˆ°è·å¾—ç§¯åˆ†
- **ä¼šå‘˜ç­‰çº§**: ä¸åŒç­‰çº§äº«å—ä¸åŒæƒç›Š

## ğŸ”’ å®‰å…¨é…ç½®

### 1. æ¥å£å®‰å…¨
```javascript
// sheep/request/index.js
const request = {
  baseURL: baseUrl,
  timeout: 8000,
  headers: {
    'Content-Type': 'application/json;charset=UTF-8',
    'tenant-id': 1, // ç§Ÿæˆ·ID
  }
}
```

### 2. æ•°æ®åŠ å¯†
```javascript
// æ•æ„Ÿæ•°æ®åŠ å¯†ä¼ è¾“
import CryptoJS from 'crypto-js'

const encrypt = (data) => {
  return CryptoJS.AES.encrypt(JSON.stringify(data), 'your-secret-key').toString()
}
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. å›¾ç‰‡ä¼˜åŒ–
```javascript
// å›¾ç‰‡æ‡’åŠ è½½é…ç½®
{
  "lazyCodeLoading": "requiredComponents",
  "optimization": {
    "subPackages": true
  }
}
```

### 2. åˆ†åŒ…é…ç½®
```json
{
  "subPackages": [
    {
      "root": "pages/user",
      "pages": [
        "index",
        "profile",
        "orders"
      ]
    }
  ]
}
```

## ğŸš¨ å¸¸è§é—®é¢˜

### 1. æ¥å£è¯·æ±‚å¤±è´¥
```bash
# æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
curl http://127.0.0.1:48080/app-api/system/auth/get-permission-info

# æ£€æŸ¥ç½‘ç»œé…ç½®
ping 127.0.0.1
```

### 2. å°ç¨‹åºçœŸæœºé¢„è§ˆç™½å±
- æ£€æŸ¥åŸŸåæ˜¯å¦é…ç½®
- ç¡®è®¤æ¥å£åœ°å€æ˜¯å¦å¯è®¿é—®
- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### 3. H5è·¨åŸŸé—®é¢˜
```javascript
// vite.config.js
export default {
  server: {
    proxy: {
      '/app-api': {
        target: 'http://127.0.0.1:48080',
        changeOrigin: true
      }
    }
  }
}
```

## ğŸ“± å‘å¸ƒéƒ¨ç½²

### 1. å¾®ä¿¡å°ç¨‹åºå‘å¸ƒ
1. åœ¨HBuilderXä¸­ç‚¹å‡» "å‘è¡Œ" â†’ "å°ç¨‹åº-å¾®ä¿¡"
2. å¡«å†™ç‰ˆæœ¬å·å’Œé¡¹ç›®æè¿°
3. ç‚¹å‡»å‘è¡Œï¼Œç”Ÿæˆå°ç¨‹åºä»£ç åŒ…
4. ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ç”Ÿæˆçš„ä»£ç åŒ…
5. ç‚¹å‡»ä¸Šä¼ ï¼Œæäº¤å®¡æ ¸

### 2. H5å‘å¸ƒ
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build:h5

# éƒ¨ç½²åˆ°æœåŠ¡å™¨
scp -r dist/* user@server:/var/www/html/
```

### 3. APPå‘å¸ƒ
1. åœ¨HBuilderXä¸­ç‚¹å‡» "å‘è¡Œ" â†’ "åŸç”ŸApp-äº‘æ‰“åŒ…"
2. é…ç½®åº”ç”¨å›¾æ ‡ã€å¯åŠ¨å›¾ç­‰
3. é€‰æ‹©æ‰“åŒ…ç±»å‹ï¼ˆæµ‹è¯•åŒ…/æ­£å¼åŒ…ï¼‰
4. æäº¤äº‘ç«¯æ‰“åŒ…
5. ä¸‹è½½å®‰è£…åŒ…è¿›è¡Œæµ‹è¯•

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **å®˜æ–¹æ–‡æ¡£**: https://doc.iocoder.cn/mall/
- **æ¼”ç¤ºåœ°å€**: https://doc.iocoder.cn/mall-preview/
- **uni-appæ–‡æ¡£**: https://uniapp.dcloud.net.cn/
- **å¾®ä¿¡å°ç¨‹åºæ–‡æ¡£**: https://developers.weixin.qq.com/miniprogram/dev/

## ğŸ“ æ›´æ–°æ—¥å¿—

### ç‰ˆæœ¬ 2.6.0
- æ”¯æŒæœ€æ–°çš„uni-appæ¡†æ¶
- ä¼˜åŒ–å•†å“å±•ç¤ºé¡µé¢
- æ–°å¢ç›´æ’­åŠŸèƒ½
- å®Œå–„æ”¯ä»˜æµç¨‹
- å¢å¼ºç”¨æˆ·ä½“éªŒ

---

**æ³¨æ„**: 
1. å°ç¨‹åºå‘å¸ƒéœ€è¦å¾®ä¿¡å…¬ä¼—å¹³å°è´¦å·
2. ç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹åç«¯æ¥å£åœ°å€
3. ç¡®ä¿åç«¯å•†åŸæ¨¡å—å·²æ­£ç¡®é…ç½®
4. å»ºè®®å…ˆåœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•æ‰€æœ‰åŠŸèƒ½ 